<view class="all"><view class="bar"><view data-event-opts="{{[['tap',[['handleCalendar',[0]]]]]}}" class="previous" bindtap="__e"><button class="barbtn">上一月</button></view><view class="date">{{(cur_year||"--")+" 年 "+(cur_month||"--")+" 月"}}</view><view data-event-opts="{{[['tap',[['handleCalendar',[1]]]]]}}" class="next" bindtap="__e"><button class="barbtn">下一月</button></view></view><view class="week"><block wx:for="{{weeks_ch}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view>{{item}}</view></block></view><view class="myDateTable"><block wx:for="{{days}}" wx:for-item="item" wx:for-index="j" wx:key="j"><view class="dateCell"><block wx:if="{{item.date==undefined||item.date==null}}"><view class="cell"><text decode="{{true}}"></text></view></block><block wx:else><view><block wx:if="{{item.isSign==true}}"><view class="cell greenColor bgWhite"><text>{{item.date}}</text></view></block><block wx:else><block wx:if="{{cur_year<toYear||cur_year==toYear&&cur_month<toMonth||cur_year==toYear&&cur_month==toMonth&&item.date<today}}"><view class="cell redColor bgGray"><text>{{item.date}}</text></view></block><block wx:else><block wx:if="{{item.date==today&&cur_month==toMonth&&cur_year==toYear}}"><view class="cell whiteColor bgBlue"><text>今天</text></view></block><block wx:else><view class="whiteColor cell"><text>{{item.date}}</text></view></block></block></block></view></block></view></block></view><view class="TipArea "><view class="_p">截至目前，已坚持运动<view class="impTip">{{$root.g0}}</view>天，请小匀称再接再厉！</view></view><button data-event-opts="{{[['tap',[['signup',['$event']]]]]}}" class="location-btn" bindtap="__e">签到</button></view>